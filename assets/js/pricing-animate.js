(() => {\n  const cards = Array.from(document.querySelectorAll('[data-pack-card]'));\n  if (!cards.length) return;\n\n  const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;\n\n  const revealAll = () => {\n    cards.forEach((card, index) => {\n      card.style.transitionDelay = ${index * 110}ms;\n      card.classList.add('is-in');\n      if (prefersReduced) card.style.transition = 'none';\n    });\n  };\n\n  if (prefersReduced || !('IntersectionObserver' in window)) {\n    revealAll();\n    return;\n  }\n\n  const observer = new IntersectionObserver((entries) => {\n    entries.forEach(entry => {\n      if (entry.isIntersecting) {\n        entry.target.classList.add('is-in');\n        observer.unobserve(entry.target);\n      }\n    });\n  }, { threshold: 0.05, rootMargin: '0px 0px -5% 0px' });\n\n  cards.forEach((card, index) => {\n    card.style.transitionDelay = ${index * 110}ms;\n    observer.observe(card);\n  });\n\n  // Fallback if observers never fire or cards load above the fold\n  const checkVisible = () => {\n    if ([...cards].some(c => c.classList.contains('is-in'))) return;\n    const first = cards[0].getBoundingClientRect();\n    const viewH = window.innerHeight || document.documentElement.clientHeight;\n    if (first.top <= viewH && first.bottom >= 0) revealAll();\n  };\n  window.addEventListener('load', checkVisible, { once: true });\n  setTimeout(checkVisible, 1200);\n})();
